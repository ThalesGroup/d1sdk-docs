<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ContactlessTransactionListener (D1 SDK Documentation)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: com.thalesgroup.gemalto.d1.d1pay, class: ContactlessTransactionListener">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.thalesgroup.gemalto.d1.d1pay</a></div>
<h1 title="Class ContactlessTransactionListener" class="title">Class ContactlessTransactionListener</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://developer.android.com/reference/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">ContactlessTransactionListenerImpl
<div class="inheritance">com.thalesgroup.gemalto.d1.d1pay.ContactlessTransactionListener</div>
</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">ContactlessTransactionListener</span>
<span class="extends-implements">extends ContactlessTransactionListenerImpl</span></div>
<div class="block">Provides a callback and a utility helper for a contactless transaction.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.0.0</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">ContactlessTransactionListener</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deactivate()" class="member-name-link">deactivate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The mobile application is used to call this API to stop the current transaction
 at the end of its UI flow (for example, <a href="https://developer.android.com/reference/android/app/Activity.html#onDestroy--" title="class or interface in android.app" class="external-link"><code>Activity.onDestroy()</code></a>).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="TransactionData.html" title="interface in com.thalesgroup.gemalto.d1.d1pay">TransactionData</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTransactionData()" class="member-name-link">getTransactionData</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the details of the current payment transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onAuthenticationRequired(com.thalesgroup.gemalto.d1.d1pay.VerificationMethod)" class="member-name-link">onAuthenticationRequired</a><wbr>(<a href="VerificationMethod.html" title="enum class in com.thalesgroup.gemalto.d1.d1pay">VerificationMethod</a>&nbsp;method)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block"><b>Conditional</b></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onDelegatedDeviceAuthenticationCancelled()" class="member-name-link">onDelegatedDeviceAuthenticationCancelled</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Delegated authentication is failed by the user.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onDelegatedDeviceAuthenticationSucceeded(long)" class="member-name-link">onDelegatedDeviceAuthenticationSucceeded</a><wbr>(long&nbsp;timeStamp)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Authentication is performed successfully by the user through mobile payment application.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onError(com.thalesgroup.gemalto.d1.D1Exception)" class="member-name-link">onError</a><wbr>(<a href="../D1Exception.html" title="class in com.thalesgroup.gemalto.d1">D1Exception</a>&nbsp;error)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">This callback will be triggered when an error happens during the payment transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onNextTransactionReady(com.thalesgroup.gemalto.d1.d1pay.DeactivationStatus,java.lang.String)" class="member-name-link">onNextTransactionReady</a><wbr>(<a href="DeactivationStatus.html" title="interface in com.thalesgroup.gemalto.d1.d1pay">DeactivationStatus</a>&nbsp;status,
 <a href="https://developer.android.com/reference/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cardID)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This callback is used to notify the readiness of the next payment transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onReadyToTap()" class="member-name-link">onReadyToTap</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block"><b>Conditional</b></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onTransactionCompleted()" class="member-name-link">onTransactionCompleted</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">The last callback of a successful transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onTransactionInterrupted(com.thalesgroup.gemalto.d1.D1Exception,int)" class="member-name-link">onTransactionInterrupted</a><wbr>(<a href="../D1Exception.html" title="class in com.thalesgroup.gemalto.d1">D1Exception</a>&nbsp;exception,
 int&nbsp;retryLeft)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Callback to notify when the transaction is interrupted during processing.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onTransactionStarted()" class="member-name-link">onTransactionStarted</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">This callback indicates that a new transaction has been initiated after a tap on the POS terminal.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerDeviceAuthTimeoutCallback(com.thalesgroup.gemalto.d1.d1pay.DeviceAuthenticationTimeoutCallback)" class="member-name-link">registerDeviceAuthTimeoutCallback</a><wbr>(<a href="DeviceAuthenticationTimeoutCallback.html" title="interface in com.thalesgroup.gemalto.d1.d1pay">DeviceAuthenticationTimeoutCallback</a>&nbsp;callback)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This is a register callback to receive the update on the validity of the authentication.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setPaymentDigitalCard(java.lang.String,com.thalesgroup.gemalto.d1.D1Task.Callback)" class="member-name-link">setPaymentDigitalCard</a><wbr>(<a href="https://developer.android.com/reference/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cardID,
 <a href="../D1Task.Callback.html" title="interface in com.thalesgroup.gemalto.d1">D1Task.Callback</a>&lt;<a href="https://developer.android.com/reference/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;&nbsp;callback)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Select temporarily digital card for payment during a transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startAuthenticate(com.thalesgroup.gemalto.d1.d1pay.AuthenticationParameter)" class="member-name-link">startAuthenticate</a><wbr>(<a href="AuthenticationParameter.html" title="class in com.thalesgroup.gemalto.d1.d1pay">AuthenticationParameter</a>&nbsp;params)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Starts the user authentication using the input parameters.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://developer.android.com/reference/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://developer.android.com/reference/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://developer.android.com/reference/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://developer.android.com/reference/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://developer.android.com/reference/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://developer.android.com/reference/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://developer.android.com/reference/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://developer.android.com/reference/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://developer.android.com/reference/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://developer.android.com/reference/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://developer.android.com/reference/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://developer.android.com/reference/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>ContactlessTransactionListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ContactlessTransactionListener</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="onTransactionStarted()">
<h3>onTransactionStarted</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onTransactionStarted</span>()</div>
<div class="block">This callback indicates that a new transaction has been initiated after a tap on the POS terminal.
 <p>
 This is for mobile payment application (MPA) to have a state machine on its side when it is needed.
 It is useful to show the user that a new payment has been initiated.</div>
</section>
</li>
<li>
<section class="detail" id="onAuthenticationRequired(com.thalesgroup.gemalto.d1.d1pay.VerificationMethod)">
<h3>onAuthenticationRequired</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onAuthenticationRequired</span><wbr><span class="parameters">(<a href="https://developer.android.com/reference/androidx/annotation/NonNull.html" title="class or interface in androidx.annotation" class="external-link">@NonNull</a>
 <a href="VerificationMethod.html" title="enum class in com.thalesgroup.gemalto.d1.d1pay">VerificationMethod</a>&nbsp;method)</span></div>
<div class="block"><b>Conditional</b>
 <p>
 This callback is used to indicate that the payment transaction requires a user authentication.
 <p>
 Refer to the <code>method</code> argument to determine the required authentication type 
 and display it accordingly to the end user on the UI.
 <p>
 Note:
 <ul>
     <li>This callback may happen after the <a href="#onTransactionStarted()"><code>onTransactionStarted()</code></a>.</li>
     <li>The application can retrieve the <a href="TransactionData.html" title="interface in com.thalesgroup.gemalto.d1.d1pay"><code>TransactionData</code></a> by calling <a href="#getTransactionData()"><code>getTransactionData()</code></a>.
     The transaction data contains detail information (for example, amount, currency, and so on) of this transaction.</li>
     <li>In order for the application to authenticate the user on the application UI, the application has to call [@link #startAuthenticate(AuthenticationParameter)].</li>
     <li>Once the authentication is successful, the payment transaction will proceed to the next state via <a href="#onReadyToTap()"><code>onReadyToTap()</code></a>.</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>method</code> - The authentication method required for the transaction.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#getTransactionData()"><code>getTransactionData()</code></a></li>
<li><a href="#startAuthenticate(com.thalesgroup.gemalto.d1.d1pay.AuthenticationParameter)"><code>startAuthenticate(AuthenticationParameter)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onReadyToTap()">
<h3>onReadyToTap</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onReadyToTap</span>()</div>
<div class="block"><b>Conditional</b>
 <p>
 When the user is successfully authenticated, this callback will be triggered.
 <p>
 When the mobile application receives this callback, it will:
 <ul>
     <li>Display the remaining time the authentication is still valid on the UI.
     This is the key validity period configured at <a href="D1PayConfigParams.html#setKeyValidityPeriod(int)"><code>D1PayConfigParams.setKeyValidityPeriod(int)</code></a>.
     </li>
     <li>Register a timeout callback with <a href="#registerDeviceAuthTimeoutCallback(com.thalesgroup.gemalto.d1.d1pay.DeviceAuthenticationTimeoutCallback)"><code>registerDeviceAuthTimeoutCallback(DeviceAuthenticationTimeoutCallback)</code></a>
     to receive the remaining time for authentication.</li>
     <li>Ask the end user to tap on the POS terminal again before the timer expires.</li>
     <li>Detailed transaction data can be retrieved with <a href="#getTransactionData()"><code>getTransactionData()</code></a>.</li>
 </ul></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="D1PayConfigParams.html#setKeyValidityPeriod(int)"><code>D1PayConfigParams.setKeyValidityPeriod(int)</code></a></li>
<li><a href="#registerDeviceAuthTimeoutCallback(com.thalesgroup.gemalto.d1.d1pay.DeviceAuthenticationTimeoutCallback)"><code>registerDeviceAuthTimeoutCallback(DeviceAuthenticationTimeoutCallback)</code></a></li>
<li><a href="#getTransactionData()"><code>getTransactionData()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onTransactionCompleted()">
<h3>onTransactionCompleted</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onTransactionCompleted</span>()</div>
<div class="block">The last callback of a successful transaction.
 <p>
 It means that the payment data had been sent successfully to the POS terminal.
 <p>
 The detailed transaction data can be retrieved with <a href="#getTransactionData()"><code>getTransactionData()</code></a>.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#getTransactionData()"><code>getTransactionData()</code></a></li>
<li><a href="#deactivate()"><code>deactivate()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onError(com.thalesgroup.gemalto.d1.D1Exception)">
<h3>onError</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onError</span><wbr><span class="parameters">(<a href="https://developer.android.com/reference/androidx/annotation/NonNull.html" title="class or interface in androidx.annotation" class="external-link">@NonNull</a>
 <a href="../D1Exception.html" title="class in com.thalesgroup.gemalto.d1">D1Exception</a>&nbsp;error)</span></div>
<div class="block">This callback will be triggered when an error happens during the payment transaction.
 <p>
 Note:
 <ul>
     <li>The mobile application <b>may</b> query the detailed transaction data with <a href="#getTransactionData()"><code>getTransactionData()</code></a>.
     Except for the first callback <code>#onTransactionStarted</code> after each stage,
     if an error occurs, the details of the error is available.
     </li>
     <li>It is recommended to clean up the transaction with <a href="#deactivate()"><code>deactivate()</code></a>.</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>error</code> - The details of the error.
              <br/>Possible errors:<br/>
              <ul>
                  <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY"><code>D1Exception.ErrorCode.ERROR_D1PAY</code></a></li>
                  <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_PAYMENT_SERVICE"><code>D1Exception.ErrorCode.ERROR_D1PAY_PAYMENT_SERVICE</code></a></li>
                  <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_CARD_SUSPENDED"><code>D1Exception.ErrorCode.ERROR_D1PAY_CARD_SUSPENDED</code></a></li>
                  <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_CARD_NOT_EXISTING"><code>D1Exception.ErrorCode.ERROR_D1PAY_CARD_NOT_EXISTING</code></a></li>
                  <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_OUT_OF_PAYMENT_KEYS"><code>D1Exception.ErrorCode.ERROR_D1PAY_OUT_OF_PAYMENT_KEYS</code></a></li>
                  <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_NO_DEFAULT_CARD"><code>D1Exception.ErrorCode.ERROR_D1PAY_NO_DEFAULT_CARD</code></a></li>
                  <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_BIOFP_CONDITION_NOT_SATISFIED"><code>D1Exception.ErrorCode.ERROR_D1PAY_BIOFP_CONDITION_NOT_SATISFIED</code></a></li>
                  <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_CPS_UPGRADE_OR_INIT_IN_PROGRESS"><code>D1Exception.ErrorCode.ERROR_D1PAY_CPS_UPGRADE_OR_INIT_IN_PROGRESS</code></a></li>
              </ul></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#getTransactionData()"><code>getTransactionData()</code></a></li>
<li><a href="#deactivate()"><code>deactivate()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onNextTransactionReady(com.thalesgroup.gemalto.d1.d1pay.DeactivationStatus,java.lang.String)">
<h3>onNextTransactionReady</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onNextTransactionReady</span><wbr><span class="parameters">(<a href="https://developer.android.com/reference/androidx/annotation/NonNull.html" title="class or interface in androidx.annotation" class="external-link">@NonNull</a>
 <a href="DeactivationStatus.html" title="interface in com.thalesgroup.gemalto.d1.d1pay">DeactivationStatus</a>&nbsp;status,
 <a href="https://developer.android.com/reference/androidx/annotation/NonNull.html" title="class or interface in androidx.annotation" class="external-link">@NonNull</a>
 <a href="https://developer.android.com/reference/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cardID)</span></div>
<div class="block">This callback is used to notify the readiness of the next payment transaction.
 This is usually called after <a href="#deactivate()"><code>deactivate()</code></a> has been triggered.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>status</code> - The status of the deactivation.</dd>
<dd><code>cardID</code> - The cardID had been used for this transaction.
               If the <code>status</code> is <a href="DeactivationStatus.Code.html#FAIL"><code>DeactivationStatus.Code.FAIL</code></a>,
               integrator can make use of this parameter to:
               <ul>
                  <li>Reset the default payment card.</li>
                  <li>Request replenishment of credentials for this card.</li>
               </ul></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="D1PayWallet.html#setDefaultPaymentDigitalCard(java.lang.String,com.thalesgroup.gemalto.d1.D1Task.Callback)"><code>D1PayWallet.setDefaultPaymentDigitalCard(String, D1Task.Callback)</code></a></li>
<li><a href="D1PayWallet.html#replenish(java.lang.String,boolean,com.thalesgroup.gemalto.d1.d1pay.DeviceAuthenticationCallback,com.thalesgroup.gemalto.d1.D1Task.Callback)"><code>D1PayWallet.replenish(String, boolean, DeviceAuthenticationCallback, D1Task.Callback)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onDelegatedDeviceAuthenticationSucceeded(long)">
<h3>onDelegatedDeviceAuthenticationSucceeded</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onDelegatedDeviceAuthenticationSucceeded</span><wbr><span class="parameters">(long&nbsp;timeStamp)</span></div>
<div class="block">Authentication is performed successfully by the user through mobile payment application.
 Invoke SDK for further transaction steps.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timeStamp</code> - The timeStamp (in millisecond) last successful user authentication.</dd>
<dt>Since:</dt>
<dd>2.2.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onDelegatedDeviceAuthenticationCancelled()">
<h3>onDelegatedDeviceAuthenticationCancelled</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onDelegatedDeviceAuthenticationCancelled</span>()</div>
<div class="block">Delegated authentication is failed by the user.
 Invoke SDK to deactivate the current transaction. Show respective error from OS to the user.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.2.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onTransactionInterrupted(com.thalesgroup.gemalto.d1.D1Exception,int)">
<h3>onTransactionInterrupted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onTransactionInterrupted</span><wbr><span class="parameters">(<a href="https://developer.android.com/reference/androidx/annotation/NonNull.html" title="class or interface in androidx.annotation" class="external-link">@NonNull</a>
 <a href="../D1Exception.html" title="class in com.thalesgroup.gemalto.d1">D1Exception</a>&nbsp;exception,
 int&nbsp;retryLeft)</span></div>
<div class="block">Callback to notify when the transaction is interrupted during processing. <br/>
 For example: Transaction is interrupted because the NFC connection between SDK and POS has been lost while the APDU exchange still ongoing. <br/></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>exception</code> - The exception contains detail information of the interrupted error</dd>
<dd><code>retryLeft</code> - The total retry count left</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerDeviceAuthTimeoutCallback(com.thalesgroup.gemalto.d1.d1pay.DeviceAuthenticationTimeoutCallback)">
<h3>registerDeviceAuthTimeoutCallback</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerDeviceAuthTimeoutCallback</span><wbr><span class="parameters">(<a href="https://developer.android.com/reference/androidx/annotation/NonNull.html" title="class or interface in androidx.annotation" class="external-link">@NonNull</a>
 <a href="DeviceAuthenticationTimeoutCallback.html" title="interface in com.thalesgroup.gemalto.d1.d1pay">DeviceAuthenticationTimeoutCallback</a>&nbsp;callback)</span></div>
<div class="block">This is a register callback to receive the update on the validity of the authentication.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>callback</code> - The callback to receive the remaining time.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#onReadyToTap()"><code>onReadyToTap()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startAuthenticate(com.thalesgroup.gemalto.d1.d1pay.AuthenticationParameter)">
<h3>startAuthenticate</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">startAuthenticate</span><wbr><span class="parameters">(<a href="https://developer.android.com/reference/androidx/annotation/NonNull.html" title="class or interface in androidx.annotation" class="external-link">@NonNull</a>
 <a href="AuthenticationParameter.html" title="class in com.thalesgroup.gemalto.d1.d1pay">AuthenticationParameter</a>&nbsp;params)</span></div>
<div class="block">Starts the user authentication using the input parameters.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>params</code> - The parameter for user authentication.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#onAuthenticationRequired(com.thalesgroup.gemalto.d1.d1pay.VerificationMethod)"><code>onAuthenticationRequired(VerificationMethod)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deactivate()">
<h3>deactivate</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">deactivate</span>()</div>
<div class="block">The mobile application is used to call this API to stop the current transaction
 at the end of its UI flow (for example, <a href="https://developer.android.com/reference/android/app/Activity.html#onDestroy--" title="class or interface in android.app" class="external-link"><code>Activity.onDestroy()</code></a>).</div>
</section>
</li>
<li>
<section class="detail" id="getTransactionData()">
<h3>getTransactionData</h3>
<div class="member-signature"><span class="annotations"><a href="https://developer.android.com/reference/androidx/annotation/Nullable.html" title="class or interface in androidx.annotation" class="external-link">@Nullable</a>
</span><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="TransactionData.html" title="interface in com.thalesgroup.gemalto.d1.d1pay">TransactionData</a></span>&nbsp;<span class="element-name">getTransactionData</span>()</div>
<div class="block">Retrieves the details of the current payment transaction.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The payment transaction data (if available).
 If an error occurs while initialising the transaction, this function will return a null value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setPaymentDigitalCard(java.lang.String,com.thalesgroup.gemalto.d1.D1Task.Callback)">
<h3>setPaymentDigitalCard</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setPaymentDigitalCard</span><wbr><span class="parameters">(<a href="https://developer.android.com/reference/androidx/annotation/NonNull.html" title="class or interface in androidx.annotation" class="external-link">@NonNull</a>
 <a href="https://developer.android.com/reference/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cardID,
 <a href="https://developer.android.com/reference/androidx/annotation/NonNull.html" title="class or interface in androidx.annotation" class="external-link">@NonNull</a>
 <a href="../D1Task.Callback.html" title="interface in com.thalesgroup.gemalto.d1">D1Task.Callback</a>&lt;<a href="https://developer.android.com/reference/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;&nbsp;callback)</span></div>
<div class="block">Select temporarily digital card for payment during a transaction.
 Normally, a transaction is performed with the default digital card.

 With this API, end user should be able to select different digital card to perform the transaction before 2nd Tap.
 And after the transaction is completed, default card will remain (not updated)</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cardID</code> - The card identifier.</dd>
<dd><code>callback</code> - The callback for the result
                      When it succeeds, the returned argument of the <a href="../D1Task.Callback.html#onSuccess(T)"><code>D1Task.Callback.onSuccess(Object)</code></a> is always null.
                      <br/>Possible errors:<br/>
                      <ul>
                          <li><a href="../D1Exception.ErrorCode.html#ERROR_CORE"><code>D1Exception.ErrorCode.ERROR_CORE</code></a></li>
                          <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_PAYMENT_SERVICE"><code>D1Exception.ErrorCode.ERROR_D1PAY_PAYMENT_SERVICE</code></a></li>
                          <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_CARD_SUSPENDED"><code>D1Exception.ErrorCode.ERROR_D1PAY_CARD_SUSPENDED</code></a></li>
                          <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_CARD_NOT_EXISTING"><code>D1Exception.ErrorCode.ERROR_D1PAY_CARD_NOT_EXISTING</code></a></li>
                          <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_OUT_OF_PAYMENT_KEYS"><code>D1Exception.ErrorCode.ERROR_D1PAY_OUT_OF_PAYMENT_KEYS</code></a></li>
                          <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_NO_DEFAULT_CARD"><code>D1Exception.ErrorCode.ERROR_D1PAY_NO_DEFAULT_CARD</code></a></li>
                          <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_BIOFP_CONDITION_NOT_SATISFIED"><code>D1Exception.ErrorCode.ERROR_D1PAY_BIOFP_CONDITION_NOT_SATISFIED</code></a></li>
                          <li><a href="../D1Exception.ErrorCode.html#ERROR_D1PAY_CPS_UPGRADE_OR_INIT_IN_PROGRESS"><code>D1Exception.ErrorCode.ERROR_D1PAY_CPS_UPGRADE_OR_INIT_IN_PROGRESS</code></a></li>
                      </ul></dd>
<dt>Since:</dt>
<dd>2.3.0</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &copy; 2026 THALES. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
